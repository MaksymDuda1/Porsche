{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./toolbar.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./toolbar.component.scss?ngResource\";\nimport { Component } from '@angular/core';\nimport { SearchService } from '../../../services/seearcService';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { SearchByConditionalsModel } from '../../../models/searchByConditionalsModel';\nimport { DataService } from '../../../services/carDataService';\nlet ToolbarComponent = class ToolbarComponent {\n  constructor(searchService, carDataService) {\n    this.searchService = searchService;\n    this.carDataService = carDataService;\n    this.cars = [];\n    this.errorMessage = '';\n    this.searchByConditionalsModel = new SearchByConditionalsModel();\n    this.years = [];\n    this.subMenuStates = {};\n  }\n  toggleSubMenu(subMenuId) {\n    this.subMenuStates[subMenuId] = !this.subMenuStates[subMenuId];\n  }\n  seedYears() {\n    const currentYear = new Date().getFullYear();\n    const startYear = currentYear - 50;\n    for (let year = currentYear; year >= startYear; year--) {\n      this.years.push(year);\n    }\n  }\n  selectModel(model) {\n    this.searchByConditionalsModel.model = model;\n  }\n  onMinPriceChange() {\n    if (this.searchByConditionalsModel.minPrice === null || this.searchByConditionalsModel.minPrice === undefined) {\n      this.searchByConditionalsModel.minPrice = null;\n    }\n  }\n  onMaxPriceChange() {\n    if (this.searchByConditionalsModel.maxPrice === null || this.searchByConditionalsModel.maxPrice === undefined) {\n      this.searchByConditionalsModel.maxPrice = null;\n    }\n  }\n  onSearch() {\n    this.searchService.searchByConditionals(this.searchByConditionalsModel).subscribe(data => {\n      this.carDataService.updateSearchData(data);\n    }, errorResponse => {\n      this.errorMessage = errorResponse.error;\n    });\n  }\n  ngOnInit() {\n    this.seedYears();\n  }\n  static #_ = this.ctorParameters = () => [{\n    type: SearchService\n  }, {\n    type: DataService\n  }];\n};\nToolbarComponent = __decorate([Component({\n  selector: 'app-toolbar',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], ToolbarComponent);\nexport { ToolbarComponent };","map":{"version":3,"names":["Component","SearchService","CommonModule","FormsModule","SearchByConditionalsModel","DataService","ToolbarComponent","constructor","searchService","carDataService","cars","errorMessage","searchByConditionalsModel","years","subMenuStates","toggleSubMenu","subMenuId","seedYears","currentYear","Date","getFullYear","startYear","year","push","selectModel","model","onMinPriceChange","minPrice","undefined","onMaxPriceChange","maxPrice","onSearch","searchByConditionals","subscribe","data","updateSearchData","errorResponse","error","ngOnInit","_","__decorate","selector","standalone","imports","template","__NG_CLI_RESOURCE__0"],"sources":["/home/maksi/Studying/Porsche/web-layer/src/app/available-cars/toolbar/toolbar.component.ts"],"sourcesContent":["import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { SearchService } from '../../../services/seearcService';\nimport { CarModel } from '../../../models/CarModel';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { SearchByConditionalsModel } from '../../../models/searchByConditionalsModel';\nimport { DataService } from '../../../services/carDataService';\n\n@Component({\n  selector: 'app-toolbar',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  templateUrl: './toolbar.component.html',\n  styleUrl: './toolbar.component.scss'\n})\nexport class ToolbarComponent implements OnInit{\n  constructor(private searchService: SearchService,\n    private carDataService: DataService\n  ) {\n\n  }\n  \n  cars: CarModel[] = [];\n  errorMessage: string = '';\n  searchByConditionalsModel = new SearchByConditionalsModel();\n  years: number[] = [];\n  subMenuStates: { [key: string]: boolean } = {};\n\n  toggleSubMenu(subMenuId: string) {\n    this.subMenuStates[subMenuId] = !this.subMenuStates[subMenuId];\n  }\n\n  seedYears() {\n    const currentYear = new Date().getFullYear();\n    const startYear = currentYear - 50; \n\n    for (let year = currentYear; year >= startYear; year--) {\n      this.years.push(year);\n    }\n  }\n\n  selectModel(model: string) {\n    this.searchByConditionalsModel.model = model;\n  }\n\n  onMinPriceChange() {\n    if (this.searchByConditionalsModel.minPrice === null || this.searchByConditionalsModel.minPrice === undefined) {\n      this.searchByConditionalsModel.minPrice = null;\n    }\n  }\n\n  onMaxPriceChange() {\n    if (this.searchByConditionalsModel.maxPrice === null || this.searchByConditionalsModel.maxPrice === undefined) {\n      this.searchByConditionalsModel.maxPrice = null;\n    }\n  }\n\n\n  onSearch() {\n    this.searchService.searchByConditionals(this.searchByConditionalsModel).subscribe(\n      data => {\n        this.carDataService.updateSearchData(data);\n      },\n      errorResponse => {\n        this.errorMessage = errorResponse.error;\n      }\n    );\n  }\n  \n\n  ngOnInit(): void {\n    this.seedYears();\n  }\n  \n}\n\n"],"mappings":";;;AAAA,SAASA,SAAS,QAAuC,eAAe;AACxE,SAASC,aAAa,QAAQ,iCAAiC;AAE/D,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,SAASC,yBAAyB,QAAQ,2CAA2C;AACrF,SAASC,WAAW,QAAQ,kCAAkC;AASvD,IAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAC3BC,YAAoBC,aAA4B,EACtCC,cAA2B;IADjB,KAAAD,aAAa,GAAbA,aAAa;IACvB,KAAAC,cAAc,GAAdA,cAAc;IAKxB,KAAAC,IAAI,GAAe,EAAE;IACrB,KAAAC,YAAY,GAAW,EAAE;IACzB,KAAAC,yBAAyB,GAAG,IAAIR,yBAAyB,EAAE;IAC3D,KAAAS,KAAK,GAAa,EAAE;IACpB,KAAAC,aAAa,GAA+B,EAAE;EAN9C;EAQAC,aAAaA,CAACC,SAAiB;IAC7B,IAAI,CAACF,aAAa,CAACE,SAAS,CAAC,GAAG,CAAC,IAAI,CAACF,aAAa,CAACE,SAAS,CAAC;EAChE;EAEAC,SAASA,CAAA;IACP,MAAMC,WAAW,GAAG,IAAIC,IAAI,EAAE,CAACC,WAAW,EAAE;IAC5C,MAAMC,SAAS,GAAGH,WAAW,GAAG,EAAE;IAElC,KAAK,IAAII,IAAI,GAAGJ,WAAW,EAAEI,IAAI,IAAID,SAAS,EAAEC,IAAI,EAAE,EAAE;MACtD,IAAI,CAACT,KAAK,CAACU,IAAI,CAACD,IAAI,CAAC;IACvB;EACF;EAEAE,WAAWA,CAACC,KAAa;IACvB,IAAI,CAACb,yBAAyB,CAACa,KAAK,GAAGA,KAAK;EAC9C;EAEAC,gBAAgBA,CAAA;IACd,IAAI,IAAI,CAACd,yBAAyB,CAACe,QAAQ,KAAK,IAAI,IAAI,IAAI,CAACf,yBAAyB,CAACe,QAAQ,KAAKC,SAAS,EAAE;MAC7G,IAAI,CAAChB,yBAAyB,CAACe,QAAQ,GAAG,IAAI;IAChD;EACF;EAEAE,gBAAgBA,CAAA;IACd,IAAI,IAAI,CAACjB,yBAAyB,CAACkB,QAAQ,KAAK,IAAI,IAAI,IAAI,CAAClB,yBAAyB,CAACkB,QAAQ,KAAKF,SAAS,EAAE;MAC7G,IAAI,CAAChB,yBAAyB,CAACkB,QAAQ,GAAG,IAAI;IAChD;EACF;EAGAC,QAAQA,CAAA;IACN,IAAI,CAACvB,aAAa,CAACwB,oBAAoB,CAAC,IAAI,CAACpB,yBAAyB,CAAC,CAACqB,SAAS,CAC/EC,IAAI,IAAG;MACL,IAAI,CAACzB,cAAc,CAAC0B,gBAAgB,CAACD,IAAI,CAAC;IAC5C,CAAC,EACDE,aAAa,IAAG;MACd,IAAI,CAACzB,YAAY,GAAGyB,aAAa,CAACC,KAAK;IACzC,CAAC,CACF;EACH;EAGAC,QAAQA,CAAA;IACN,IAAI,CAACrB,SAAS,EAAE;EAClB;EAAC,QAAAsB,CAAA,G;;;;;;AAzDUjC,gBAAgB,GAAAkC,UAAA,EAP5BxC,SAAS,CAAC;EACTyC,QAAQ,EAAE,aAAa;EACvBC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CAACzC,YAAY,EAAEC,WAAW,CAAC;EACpCyC,QAAA,EAAAC,oBAAuC;;CAExC,CAAC,C,EACWvC,gBAAgB,CA2D5B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}