{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./admin-cars.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./admin-cars.component.scss?ngResource\";\nimport { Component } from '@angular/core';\nimport { CarService } from '../../../services/carService';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { PorscheCenterModel } from '../../../models/CenterModel';\nimport { PorscheCenterService } from '../../../services/PorscheCenterService';\nimport { bodyTypeToString } from '../../../enums/BodyType';\nimport { colorToString } from '../../../enums/Color';\nlet AdminCarsComponent = class AdminCarsComponent {\n  constructor(carService, porscheCenterService) {\n    this.carService = carService;\n    this.porscheCenterService = porscheCenterService;\n    this.cars = [];\n    this.errorMessage = '';\n    this.porscheCenter = new PorscheCenterModel();\n  }\n  delete(id) {\n    this.carService.deleteCar(id).subscribe(() => {\n      this.carService.getAllCars().subscribe(data => {\n        this.cars = data;\n        this.errorMessage = \"Deleted\";\n      }, errorResponse => this.errorMessage = errorResponse.error);\n    }, errorResponse => this.errorMessage = errorResponse.error);\n  }\n  getBodyType(value) {\n    return bodyTypeToString(value);\n  }\n  getColor(value) {\n    return colorToString(value);\n  }\n  getPorscheCenter(id) {\n    let porscheCenterName = 'Car without Porsche center';\n    this.porscheCenterService.getById(id).subscribe(data => {\n      porscheCenterName = data.name;\n    }, error => {\n      console.error(error.error);\n    });\n    return porscheCenterName;\n  }\n  ngOnInit() {\n    this.carService.getAllCars().subscribe(data => {\n      this.cars = data;\n    }, errorResponse => {\n      this.errorMessage = errorResponse.error;\n    });\n  }\n  static #_ = this.ctorParameters = () => [{\n    type: CarService\n  }, {\n    type: PorscheCenterService\n  }];\n};\nAdminCarsComponent = __decorate([Component({\n  selector: 'app-admin-cars',\n  standalone: true,\n  imports: [CommonModule, RouterModule],\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], AdminCarsComponent);\nexport { AdminCarsComponent };","map":{"version":3,"names":["Component","CarService","CommonModule","RouterModule","PorscheCenterModel","PorscheCenterService","bodyTypeToString","colorToString","AdminCarsComponent","constructor","carService","porscheCenterService","cars","errorMessage","porscheCenter","delete","id","deleteCar","subscribe","getAllCars","data","errorResponse","error","getBodyType","value","getColor","getPorscheCenter","porscheCenterName","getById","name","console","ngOnInit","_","__decorate","selector","standalone","imports","template","__NG_CLI_RESOURCE__0"],"sources":["/home/maksi/Studying/Porsche/web-layer/src/app/admin/admin-cars/admin-cars.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CarService } from '../../../services/carService';\nimport { CarModel } from '../../../models/CarModel';\nimport { CommonModule } from '@angular/common';\nimport { ActivatedRoute, RouterModule } from '@angular/router';\nimport { PorscheCenterModel } from '../../../models/CenterModel';\nimport { PorscheCenterService } from '../../../services/PorscheCenterService';\nimport { BodyType, bodyTypeToString } from '../../../enums/BodyType';\nimport { colorToString } from '../../../enums/Color';\n\n@Component({\n  selector: 'app-admin-cars',\n  standalone: true,\n  imports: [CommonModule, RouterModule],\n  templateUrl: './admin-cars.component.html',\n  styleUrl: './admin-cars.component.scss'\n})\nexport class AdminCarsComponent implements OnInit {\n  constructor(private carService: CarService,\n    private porscheCenterService: PorscheCenterService\n  ) { }\n\n  cars: CarModel[] = [];\n  errorMessage = '';\n  porscheCenter: PorscheCenterModel = new PorscheCenterModel();\n  \n\n  delete(id: string) {\n    this.carService.deleteCar(id).subscribe(() => {\n      this.carService.getAllCars().subscribe(data => {\n        this.cars = data; \n        this.errorMessage = \"Deleted\"\n      },\n        errorResponse => this.errorMessage = errorResponse.error)\n    },\n      errorResponse => this.errorMessage = errorResponse.error)\n  }\n\n  getBodyType(value: number): string{\n    return bodyTypeToString(value);\n  }\n\n  getColor(value: number): string{\n    return colorToString(value);\n  }\n\n  getPorscheCenter(id: string) {\n    let porscheCenterName = 'Car without Porsche center';\n    this.porscheCenterService.getById(id).subscribe(data => {\n      porscheCenterName = data.name;\n    }, error => {\n      console.error(error.error);\n    });\n    return porscheCenterName;\n  }\n\n  ngOnInit(): void {\n    this.carService.getAllCars().subscribe(data => {\n      this.cars = data\n    },\n      errorResponse => {\n        this.errorMessage = errorResponse.error;\n      })\n  }\n}\n"],"mappings":";;;AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,UAAU,QAAQ,8BAA8B;AAEzD,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAAyBC,YAAY,QAAQ,iBAAiB;AAC9D,SAASC,kBAAkB,QAAQ,6BAA6B;AAChE,SAASC,oBAAoB,QAAQ,wCAAwC;AAC7E,SAAmBC,gBAAgB,QAAQ,yBAAyB;AACpE,SAASC,aAAa,QAAQ,sBAAsB;AAS7C,IAAMC,kBAAkB,GAAxB,MAAMA,kBAAkB;EAC7BC,YAAoBC,UAAsB,EAChCC,oBAA0C;IADhC,KAAAD,UAAU,GAAVA,UAAU;IACpB,KAAAC,oBAAoB,GAApBA,oBAAoB;IAG9B,KAAAC,IAAI,GAAe,EAAE;IACrB,KAAAC,YAAY,GAAG,EAAE;IACjB,KAAAC,aAAa,GAAuB,IAAIV,kBAAkB,EAAE;EAJxD;EAOJW,MAAMA,CAACC,EAAU;IACf,IAAI,CAACN,UAAU,CAACO,SAAS,CAACD,EAAE,CAAC,CAACE,SAAS,CAAC,MAAK;MAC3C,IAAI,CAACR,UAAU,CAACS,UAAU,EAAE,CAACD,SAAS,CAACE,IAAI,IAAG;QAC5C,IAAI,CAACR,IAAI,GAAGQ,IAAI;QAChB,IAAI,CAACP,YAAY,GAAG,SAAS;MAC/B,CAAC,EACCQ,aAAa,IAAI,IAAI,CAACR,YAAY,GAAGQ,aAAa,CAACC,KAAK,CAAC;IAC7D,CAAC,EACCD,aAAa,IAAI,IAAI,CAACR,YAAY,GAAGQ,aAAa,CAACC,KAAK,CAAC;EAC7D;EAEAC,WAAWA,CAACC,KAAa;IACvB,OAAOlB,gBAAgB,CAACkB,KAAK,CAAC;EAChC;EAEAC,QAAQA,CAACD,KAAa;IACpB,OAAOjB,aAAa,CAACiB,KAAK,CAAC;EAC7B;EAEAE,gBAAgBA,CAACV,EAAU;IACzB,IAAIW,iBAAiB,GAAG,4BAA4B;IACpD,IAAI,CAAChB,oBAAoB,CAACiB,OAAO,CAACZ,EAAE,CAAC,CAACE,SAAS,CAACE,IAAI,IAAG;MACrDO,iBAAiB,GAAGP,IAAI,CAACS,IAAI;IAC/B,CAAC,EAAEP,KAAK,IAAG;MACTQ,OAAO,CAACR,KAAK,CAACA,KAAK,CAACA,KAAK,CAAC;IAC5B,CAAC,CAAC;IACF,OAAOK,iBAAiB;EAC1B;EAEAI,QAAQA,CAAA;IACN,IAAI,CAACrB,UAAU,CAACS,UAAU,EAAE,CAACD,SAAS,CAACE,IAAI,IAAG;MAC5C,IAAI,CAACR,IAAI,GAAGQ,IAAI;IAClB,CAAC,EACCC,aAAa,IAAG;MACd,IAAI,CAACR,YAAY,GAAGQ,aAAa,CAACC,KAAK;IACzC,CAAC,CAAC;EACN;EAAC,QAAAU,CAAA,G;;;;;;AA9CUxB,kBAAkB,GAAAyB,UAAA,EAP9BjC,SAAS,CAAC;EACTkC,QAAQ,EAAE,gBAAgB;EAC1BC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CAAClC,YAAY,EAAEC,YAAY,CAAC;EACrCkC,QAAA,EAAAC,oBAA0C;;CAE3C,CAAC,C,EACW9B,kBAAkB,CA+C9B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}