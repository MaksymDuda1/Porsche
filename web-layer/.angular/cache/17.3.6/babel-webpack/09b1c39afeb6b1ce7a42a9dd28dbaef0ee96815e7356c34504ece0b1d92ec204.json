{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./update-center.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./update-center.component.scss?ngResource\";\nimport { Component } from '@angular/core';\nimport { PorscheCenterService } from '../../../../services/PorscheCenterService';\nimport { PorscheCenterUpdateModel } from '../../../../models/porscheCenterUpdateModel';\nimport { ActivatedRoute, RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nlet UpdateCenterComponent = class UpdateCenterComponent {\n  constructor(porscheCenterService, router) {\n    this.porscheCenterService = porscheCenterService;\n    this.router = router;\n    this.porscheCenterUpdateModel = new PorscheCenterUpdateModel();\n    this.message = '';\n    this.router.paramMap.subscribe(params => {\n      let id = params.get('id');\n      if (id != null) porscheCenterService.getById(id).subscribe(data => {\n        this.porscheCenterUpdateModel = data;\n      });\n    });\n  }\n  onFileChange(event) {\n    this.porscheCenterUpdateModel.photo = event.target.files[0];\n  }\n  onUpdate() {\n    let formData = new FormData();\n    formData.append(\"Id\", this.porscheCenterUpdateModel.id);\n    formData.append(\"Name\", this.porscheCenterUpdateModel.name);\n    formData.append(\"Address\", this.porscheCenterUpdateModel.address);\n    if (this.porscheCenterUpdateModel.photo) formData.append(\"PhotoPath\", this.porscheCenterUpdateModel.photo);\n    this.porscheCenterService.update(formData).subscribe(() => {\n      this.message = \"Updated\";\n    }, errorResponse => this.message = errorResponse.error);\n  }\n  static #_ = this.ctorParameters = () => [{\n    type: PorscheCenterService\n  }, {\n    type: ActivatedRoute\n  }];\n};\nUpdateCenterComponent = __decorate([Component({\n  selector: 'app-update-center',\n  standalone: true,\n  imports: [CommonModule, FormsModule, RouterModule],\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], UpdateCenterComponent);\nexport { UpdateCenterComponent };","map":{"version":3,"names":["Component","PorscheCenterService","PorscheCenterUpdateModel","ActivatedRoute","RouterModule","CommonModule","FormsModule","UpdateCenterComponent","constructor","porscheCenterService","router","porscheCenterUpdateModel","message","paramMap","subscribe","params","id","get","getById","data","onFileChange","event","photo","target","files","onUpdate","formData","FormData","append","name","address","update","errorResponse","error","_","__decorate","selector","standalone","imports","template","__NG_CLI_RESOURCE__0"],"sources":["/home/maksi/Studying/Porsche/web-layer/src/app/admin/admin-centers/update-center/update-center.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { PorscheCenterCreateModel } from '../../../../models/porscheCenterCreateModel';\nimport { PorscheCenterService } from '../../../../services/PorscheCenterService';\nimport { PorscheCenterUpdateModel } from '../../../../models/porscheCenterUpdateModel';\nimport { ActivatedRoute, RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\n@Component({\n  selector: 'app-update-center',\n  standalone: true,\n  imports: [CommonModule, FormsModule, RouterModule],\n  templateUrl: './update-center.component.html',\n  styleUrl: './update-center.component.scss'\n})\nexport class UpdateCenterComponent {\n\n  constructor(private porscheCenterService: PorscheCenterService,\n    private router: ActivatedRoute,\n  ){\n    this.router.paramMap.subscribe((params) => {\n    let id = params.get('id');\n      if (id != null)\n        porscheCenterService.getById(id).subscribe(data => {\n          this.porscheCenterUpdateModel = data\n        });\n    })\n  }\n  porscheCenterUpdateModel = new PorscheCenterUpdateModel();\n  message: string = '';\n\n  onFileChange(event: any) {\n    this.porscheCenterUpdateModel.photo = event.target.files[0];\n  }\n\n  onUpdate() {\n    let formData = new FormData();\n    formData.append(\"Id\", this.porscheCenterUpdateModel.id);\n    formData.append(\"Name\", this.porscheCenterUpdateModel.name);\n    formData.append(\"Address\", this.porscheCenterUpdateModel.address);\n    if (this.porscheCenterUpdateModel.photo)\n      formData.append(\"PhotoPath\", this.porscheCenterUpdateModel.photo);\n\n    this.porscheCenterService.update(formData).subscribe(() => {\n      this.message = \"Updated\";\n    },\n      errorResponse => this.message = errorResponse.error)\n  }\n}\n"],"mappings":";;;AAAA,SAASA,SAAS,QAAQ,eAAe;AAEzC,SAASC,oBAAoB,QAAQ,2CAA2C;AAChF,SAASC,wBAAwB,QAAQ,6CAA6C;AACtF,SAASC,cAAc,EAAEC,YAAY,QAAQ,iBAAiB;AAC9D,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,WAAW,QAAQ,gBAAgB;AASrC,IAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAEhCC,YAAoBC,oBAA0C,EACpDC,MAAsB;IADZ,KAAAD,oBAAoB,GAApBA,oBAAoB;IAC9B,KAAAC,MAAM,GAANA,MAAM;IAUhB,KAAAC,wBAAwB,GAAG,IAAIT,wBAAwB,EAAE;IACzD,KAAAU,OAAO,GAAW,EAAE;IATlB,IAAI,CAACF,MAAM,CAACG,QAAQ,CAACC,SAAS,CAAEC,MAAM,IAAI;MAC1C,IAAIC,EAAE,GAAGD,MAAM,CAACE,GAAG,CAAC,IAAI,CAAC;MACvB,IAAID,EAAE,IAAI,IAAI,EACZP,oBAAoB,CAACS,OAAO,CAACF,EAAE,CAAC,CAACF,SAAS,CAACK,IAAI,IAAG;QAChD,IAAI,CAACR,wBAAwB,GAAGQ,IAAI;MACtC,CAAC,CAAC;IACN,CAAC,CAAC;EACJ;EAIAC,YAAYA,CAACC,KAAU;IACrB,IAAI,CAACV,wBAAwB,CAACW,KAAK,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;EAC7D;EAEAC,QAAQA,CAAA;IACN,IAAIC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAC7BD,QAAQ,CAACE,MAAM,CAAC,IAAI,EAAE,IAAI,CAACjB,wBAAwB,CAACK,EAAE,CAAC;IACvDU,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACjB,wBAAwB,CAACkB,IAAI,CAAC;IAC3DH,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAE,IAAI,CAACjB,wBAAwB,CAACmB,OAAO,CAAC;IACjE,IAAI,IAAI,CAACnB,wBAAwB,CAACW,KAAK,EACrCI,QAAQ,CAACE,MAAM,CAAC,WAAW,EAAE,IAAI,CAACjB,wBAAwB,CAACW,KAAK,CAAC;IAEnE,IAAI,CAACb,oBAAoB,CAACsB,MAAM,CAACL,QAAQ,CAAC,CAACZ,SAAS,CAAC,MAAK;MACxD,IAAI,CAACF,OAAO,GAAG,SAAS;IAC1B,CAAC,EACCoB,aAAa,IAAI,IAAI,CAACpB,OAAO,GAAGoB,aAAa,CAACC,KAAK,CAAC;EACxD;EAAC,QAAAC,CAAA,G;;;;;;AAhCU3B,qBAAqB,GAAA4B,UAAA,EAPjCnC,SAAS,CAAC;EACToC,QAAQ,EAAE,mBAAmB;EAC7BC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CAACjC,YAAY,EAAEC,WAAW,EAAEF,YAAY,CAAC;EAClDmC,QAAA,EAAAC,oBAA6C;;CAE9C,CAAC,C,EACWjC,qBAAqB,CAiCjC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}